/* Copyright (C) 2002, 2003, 2004 Zilog, Inc.
 *
 * $Id: opcodes.c,v 1.1 2004/08/03 14:23:48 jnekl Exp $
 *
 * Z8 Encore opcode used for disassembler.
 */

#include	<stdlib.h>
#include	"opcodes.h"

/****************************************************************/

const char *cc_mnem[] = {
	"f", "lt", "le", "ule", "ov", "mi", "z", "c", 
	"", "ge", "gt", "ugt", "nov", "pl", "nz", "nc", NULL
};

const struct opcode_t z9_opcodes[] = {

	{ "brk"  , 0x00, am_none },
	{ "rlc"  , 0x10, am_R1 },
	{ "inc"  , 0x20, am_R1 },
	{ "dec"  , 0x30, am_R1 },
	{ "da"   , 0x40, am_R1 },
	{ "pop"  , 0x50, am_R1 },
	{ "com"  , 0x60, am_R1 },
	{ "push" , 0x70, am_R1 },
	{ "decw" , 0x80, am_RR1 },
	{ "rl"   , 0x90, am_R1 },
	{ "incw" , 0xa0, am_RR1 },
	{ "clr"  , 0xb0, am_R1 },
	{ "rrc"  , 0xc0, am_R1 },
	{ "sra"  , 0xd0, am_R1 },
	{ "rr"   , 0xe0, am_R1 },
	{ "swap" , 0xf0, am_R1 },

	{ "srp"  , 0x01, am_IM },
	{ "rlc"  , 0x11, am_IR1 },
	{ "inc"  , 0x21, am_IR1 },
	{ "dec"  , 0x31, am_IR1 },
	{ "da"   , 0x41, am_IR1 },
	{ "pop"  , 0x51, am_IR1 },
	{ "com"  , 0x61, am_IR1 },
	{ "push" , 0x71, am_IR1 },
	{ "decw" , 0x81, am_IRR1 },
	{ "rl"   , 0x91, am_IR1 },
	{ "incw" , 0xa1, am_IRR1 },
	{ "clr"  , 0xb1, am_IR1 },
	{ "rrc"  , 0xc1, am_IR1 },
	{ "sra"  , 0xd1, am_IR1 },
	{ "rr"   , 0xe1, am_IR1 },
	{ "swap" , 0xf1, am_IR1 },

	{ "add"  , 0x02, am_r1_r2 },
	{ "adc"  , 0x12, am_r1_r2 },
	{ "sub"  , 0x22, am_r1_r2 },
	{ "sbc"  , 0x32, am_r1_r2 },
	{ "or"   , 0x42, am_r1_r2 },
	{ "and"  , 0x52, am_r1_r2 },
	{ "tcm"  , 0x62, am_r1_r2 },
	{ "tm"   , 0x72, am_r1_r2 },
	{ "lde"  , 0x82, am_r1_Irr2 },
	{ "lde"  , 0x92, am_r2_Irr1 },
	{ "cp"   , 0xa2, am_r1_r2 },
	{ "xor"  , 0xb2, am_r1_r2 },
	{ "ldc"  , 0xc2, am_r1_Irr2 },
	{ "ldc"  , 0xd2, am_r2_Irr1 },
	{ "bit"  , 0xe2, am_p_bit_r1 },
	{ "trap" , 0xf2, am_vec },

	{ "add"  , 0x03, am_r1_Ir2 },
	{ "adc"  , 0x13, am_r1_Ir2 },
	{ "sub"  , 0x23, am_r1_Ir2 },
	{ "sbc"  , 0x33, am_r1_Ir2 },
	{ "or"   , 0x43, am_r1_Ir2 },
	{ "and"  , 0x53, am_r1_Ir2 },
	{ "tcm"  , 0x63, am_r1_Ir2 },
	{ "tm"   , 0x73, am_r1_Ir2 },
	{ "ldei" , 0x83, am_Ir1_Irr2 },
	{ "ldei" , 0x93, am_Ir2_Irr1 },
	{ "cp"   , 0xa3, am_r1_Ir2 },
	{ "xor"  , 0xb3, am_r1_Ir2 },
	{ "ldci" , 0xc3, am_Ir1_Irr2 },
	{ "ldci" , 0xd3, am_Ir2_Irr1 },
	{ "ld"   , 0xe3, am_r1_Ir2 },
	{ "ld"   , 0xf3, am_Ir1_r2 },

	{ "add"  , 0x04, am_R2_R1 },
	{ "adc"  , 0x14, am_R2_R1 },
	{ "sub"  , 0x24, am_R2_R1 },
	{ "sbc"  , 0x34, am_R2_R1 },
	{ "or"   , 0x44, am_R2_R1 },
	{ "and"  , 0x54, am_R2_R1 },
	{ "tcm"  , 0x64, am_R2_R1 },
	{ "tm"   , 0x74, am_R2_R1 },
	{ "ldx"  , 0x84, am_r1_ER2 },
	{ "ldx"  , 0x94, am_r2_ER1 },
	{ "cp"   , 0xa4, am_R2_R1 },
	{ "xor"  , 0xb4, am_R2_R1 },
	{ "jp"   , 0xc4, am_IRR1 },
	{ "call" , 0xd4, am_IRR1 },
	{ "ld"   , 0xe4, am_R2_R1 },
	{ "mult" , 0xf4, am_RR1 },

	{ "add"  , 0x05, am_IR2_R1 },
	{ "adc"  , 0x15, am_IR2_R1 },
	{ "sub"  , 0x25, am_IR2_R1 },
	{ "sbc"  , 0x35, am_IR2_R1 },
	{ "or"   , 0x45, am_IR2_R1 },
	{ "and"  , 0x55, am_IR2_R1 },
	{ "tcm"  , 0x65, am_IR2_R1 },
	{ "tm"   , 0x75, am_IR2_R1 },
	{ "ldx"  , 0x85, am_Ir1_ER2 },
	{ "ldx"  , 0x95, am_Ir2_ER1 },
	{ "cp"   , 0xa5, am_IR2_R1 },
	{ "xor"  , 0xb5, am_IR2_R1 },
	{ "ldc"  , 0xc5, am_Ir1_Irr2 },
	{ "bswap", 0xd5, am_R1 },
	{ "ld"   , 0xe5, am_IR2_R1 },
	{ "ld"   , 0xf5, am_R2_IR1 },

	{ "add"  , 0x06, am_R1_IM },
	{ "adc"  , 0x16, am_R1_IM },
	{ "sub"  , 0x26, am_R1_IM },
	{ "sbc"  , 0x36, am_R1_IM },
	{ "or"   , 0x46, am_R1_IM },
	{ "and"  , 0x56, am_R1_IM },
	{ "tcm"  , 0x66, am_R1_IM },
	{ "tm"   , 0x76, am_R1_IM },
	{ "ldx"  , 0x86, am_IRR2_R1 },
	{ "ldx"  , 0x96, am_R2_IRR1 },
	{ "cp"   , 0xa6, am_R1_IM },
	{ "xor"  , 0xb6, am_R1_IM },
	{ "call" , 0xd6, am_DA },
	{ "ld"   , 0xe6, am_R1_IM },
	{ "btj"  , 0xf6, am_p_bit_r1_RA },

	{ "add"  , 0x07, am_IR1_IM },
	{ "adc"  , 0x17, am_IR1_IM },
	{ "sub"  , 0x27, am_IR1_IM },
	{ "sbc"  , 0x37, am_IR1_IM },
	{ "or"   , 0x47, am_IR1_IM },
	{ "and"  , 0x57, am_IR1_IM },
	{ "tcm"  , 0x67, am_IR1_IM },
	{ "tm"   , 0x77, am_IR1_IM },
	{ "ldx"  , 0x87, am_IRR2_IR1 },
	{ "ldx"  , 0x97, am_IR2_IRR1 },
	{ "cp"   , 0xa7, am_IR1_IM },
	{ "xor"  , 0xb7, am_IR1_IM },
	{ "ld"   , 0xc7, am_r1_r2_X },
	{ "ld"   , 0xd7, am_r2_r1_X },
	{ "ld"   , 0xe7, am_IR1_IM },
	{ "btj"  , 0xf7, am_p_bit_Ir1_RA },

	{ "addx" , 0x08, am_ER2_ER1 },
	{ "adcx" , 0x18, am_ER2_ER1 },
	{ "subx" , 0x28, am_ER2_ER1 },
	{ "sbcx" , 0x38, am_ER2_ER1 },
	{ "orx"  , 0x48, am_ER2_ER1 },
	{ "andx" , 0x58, am_ER2_ER1 },
	{ "tcmx" , 0x68, am_ER2_ER1 },
	{ "tmx"  , 0x78, am_ER2_ER1 },
	{ "ldx"  , 0x88, am_r1_rr2_X },
	{ "lea"  , 0x98, am_r1_r2_X },
	{ "cpx"  , 0xa8, am_ER2_ER1 },
	{ "xorx" , 0xb8, am_ER2_ER1 },
	{ "pushx", 0xc8, am_ER1 },
	{ "popx" , 0xd8, am_ER1 },
	{ "ldx"  , 0xe8, am_ER2_ER1 },

	{ "addx" , 0x09, am_IM_ER1 },
	{ "adcx" , 0x19, am_IM_ER1 },
	{ "subx" , 0x29, am_IM_ER1 },
	{ "sbcx" , 0x39, am_IM_ER1 },
	{ "orx"  , 0x49, am_IM_ER1 },
	{ "andx" , 0x59, am_IM_ER1 },
	{ "tcmx" , 0x69, am_IM_ER1 },
	{ "tmx"  , 0x79, am_IM_ER1 },
	{ "ldx"  , 0x89, am_rr1_r2_X },
	{ "leax" , 0x99, am_rr1_rr2_X },
	{ "cpx"  , 0xa9, am_IM_ER1 },
	{ "xorx" , 0xb9, am_IM_ER1 },
	{ "ldx"  , 0xe9, am_IM_ER1 },

	{ "djnz" , 0x0a, am_r1_RA },
	{ "jr"   , 0x0b, am_cc_RA },
	{ "ld"   , 0x0c, am_r1_IM },
	{ "jp"   , 0x0d, am_cc_DA },
	{ "inc"  , 0x0e, am_r1 },

	{ "nop"  , 0x0f, am_none },
	{ "alt"  , 0x1f, am_none },
	{ "wdt"  , 0x5f, am_none },
	{ "stop" , 0x6f, am_none },
	{ "halt" , 0x7f, am_none },
	{ "di"   , 0x8f, am_none },
	{ "ei"   , 0x9f, am_none },
	{ "ret"  , 0xaf, am_none },
	{ "iret" , 0xbf, am_none },
	{ "rcf"  , 0xcf, am_none },
	{ "scf"  , 0xdf, am_none },
	{ "ccf"  , 0xef, am_none },

	{ NULL, 0, 0 }
};

const struct opcode_t z9_alt_opcodes[] = {
	{ "cpc"  , 0xa2, am_r1_r2 },
	{ "cpc"  , 0xa3, am_r1_Ir2 },
	{ "cpc"  , 0xa4, am_R2_R1 },
	{ "cpc"  , 0xa5, am_IR2_R1 },
	{ "cpc"  , 0xa6, am_R1_IM },
	{ "cpc"  , 0xa7, am_IR1_IM },
	{ "cpcx" , 0xa8, am_ER2_ER1 },
	{ "cpcx" , 0xa9, am_IM_ER1 },
	{ "srl"  , 0xc0, am_R1 },
	{ "srl"  , 0xc1, am_IR1 },
	{ NULL , 0 , 0 } 
};
	
/****************************************************************/



